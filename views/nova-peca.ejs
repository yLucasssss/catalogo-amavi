<%- include('partials/header') %>

<h1>Nova Pe√ßa</h1>

<form action="/admin/pecas/nova" method="POST" enctype="multipart/form-data">
  <div class="mb-3">
    <label for="nome" class="form-label">Nome</label>
    <input type="text" class="form-control" id="nome" name="nome" required>
  </div>
  <div class="mb-3">
    <label for="valor" class="form-label">Valor</label>
    <input type="number" step="0.01" class="form-control" id="valor" name="valor" required>
  </div>
  <div class="mb-3">
    <label for="tipo" class="form-label">Tipo</label>
    <select class="form-select" id="tipo" name="tipo" required>
      <option value="">Selecione o Tipo</option>
      <option value="Anel">Anel</option>
      <option value="Berloque">Berloque</option>
      <option value="Bracelete">Bracelete</option>
      <option value="Brinco">Brinco</option>
      <option value="Colar">Colar</option>
      <option value="Piercing">Piercing</option>
      <option value="Pulseira">Pulseira</option>
      <option value="Trio">Trio</option>
    </select>
  </div>
  <div class="mb-3" id="tamanho-anel" style="display: none;">
    <label for="tamanho" class="form-label">Tamanho do Anel</label>
    <input type="text" class="form-control" id="tamanho" name="tamanho">
  </div>
  <div class="mb-3">
    <label for="imagem" class="form-label">Imagem</label>
    <input type="file" class="form-control" id="imagem" name="imagem" required>
  </div>
  <button type="submit" class="btn btn-primary">Cadastrar</button>
</form>

<script>
  document.getElementById('tipo').addEventListener('change', function() {
    const tamanhoAnelDiv = document.getElementById('tamanho-anel');
    const tamanhoAnelInput = document.getElementById('tamanho');

    if (this.value === 'Anel') {
      tamanhoAnelDiv.style.display = 'block';
      tamanhoAnelInput.setAttribute('required', 'required');
    } else {
      tamanhoAnelDiv.style.display = 'none';
      tamanhoAnelInput.removeAttribute('required');
      tamanhoAnelInput.value = ''; // Limpa o valor quando escondido
    }
  });
</script>

<%- include('partials/footer') %>